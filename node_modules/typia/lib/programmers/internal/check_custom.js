"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.check_custom = void 0;
var typescript_1 = __importDefault(require("typescript"));
var get_comment_tags_1 = require("./get_comment_tags");
var check_custom = function (type, alias) {
    return function (importer) {
        return function (jsDocTags) {
            return function (input) {
                return (0, get_comment_tags_1.get_comment_tags)(true)(jsDocTags).map(function (tag) {
                    var _a, _b;
                    return ({
                        expected: "".concat(alias !== null && alias !== void 0 ? alias : type, " (@").concat(tag.name).concat(((_a = tag.value) === null || _a === void 0 ? void 0 : _a.length) ? " ".concat(tag.value) : "", ")"),
                        expression: typescript_1.default.factory.createCallExpression(importer.use("is_custom"), undefined, [
                            typescript_1.default.factory.createStringLiteral(tag.name),
                            typescript_1.default.factory.createStringLiteral(type),
                            typescript_1.default.factory.createStringLiteral((_b = tag.value) !== null && _b !== void 0 ? _b : ""),
                            input,
                        ]),
                    });
                });
            };
        };
    };
};
exports.check_custom = check_custom;
//# sourceMappingURL=check_custom.js.map